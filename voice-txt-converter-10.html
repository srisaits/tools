<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Free online speech-to-text converter with multilingual support. Convert audio to text in real-time with 12+ languages. Save transcriptions as text files.">
  <meta name="keywords" content="speech to text, audio to text, voice typing, transcription tool, online dictation, convert audio to text, speech recognition">
  <meta name="author" content="AudioToTextConverter">
  <meta name="robots" <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Free online speech-to-text converter with multilingual support. Convert audio to text in real-time with 12+ languages. Save transcriptions as text files.">
  <meta name="keywords" content="speech to text, audio to text, voice typing, transcription tool, online dictation, convert audio to text, speech recognition">
  <meta name="author" content="AudioToTextConverter">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Audio to Text Converter - Free Online Speech Recognition">
  <meta property="og:description" content="Convert your speech to text in real-time with multilingual support. Save transcriptions as text files.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com">
  <link rel="canonical" href="https://yourwebsite.com">
  <title>Audio to Text Converter | Free Online Speech Recognition Tool</title>
  <style>
    :root {
      --primary-color: #3498db;
      --secondary-color: #2980b9;
      --danger-color: #e74c3c;
      --success-color: #2ecc71;
      --text-color: #2c3e50;
      --light-gray: #ecf0f1;
      --medium-gray: #bdc3c7;
      --dark-gray: #7f8c8d;
      --error-color: #e74c3c;
      --error-bg: #fadbd8;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 20px 0;
      text-align: center;
      margin-bottom: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    
    .tagline {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    
    .main-content {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 30px;
    }
    
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }
    
    .converter-container {
      background: white;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .ad-container {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      height: fit-content;
      position: sticky;
      top: 20px;
    }
    
    .ad-placeholder {
      background: var(--light-gray);
      border: 1px dashed var(--medium-gray);
      padding: 20px;
      text-align: center;
      margin-bottom: 15px;
    }
    
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }
    
    .btn {
      background: var(--primary-color);
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
    }
    
    .btn:disabled {
      background: var(--medium-gray);
      cursor: not-allowed;
      transform: none;
    }
    
    .btn-danger {
      background: var(--danger-color);
    }
    
    .btn-danger:hover {
      background: #c0392b;
    }
    
    .btn-success {
      background: var(--success-color);
    }
    
    .btn-success:hover {
      background: #27ae60;
    }
    
    select {
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 16px;
      min-width: 200px;
      background: white;
    }
    
    textarea {
      width: 100%;
      height: 300px;
      margin: 15px 0;
      padding: 15px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 4px;
      resize: vertical;
      line-height: 1.5;
    }
    
    .error-message {
      color: var(--error-color);
      margin: 15px 0;
      padding: 15px;
      background: var(--error-bg);
      border-radius: 4px;
      display: none;
    }
    
    .permission-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(0,0,0,0.3);
      z-index: 1000;
      text-align: center;
      max-width: 90%;
      width: 500px;
      display: none;
    }
    
    .permission-popup h3 {
      margin-top: 0;
      color: var(--danger-color);
      font-size: 1.5rem;
      margin-bottom: 15px;
    }
    
    .info-text {
      color: var(--dark-gray);
      font-size: 0.95rem;
      margin: 10px 0;
    }
    
    .status-bar {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      color: var(--dark-gray);
      font-size: 0.9rem;
      padding-top: 10px;
      border-top: 1px solid #eee;
    }
    
    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      color: var(--dark-gray);
      font-size: 0.9rem;
      border-top: 1px solid #eee;
    }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }
    
    .feature-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .feature-card h3 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    /* Animation for mic button when listening */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .listening {
      animation: pulse 1.5s infinite;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Audio to Text Converter</h1>
      <p class="tagline">Convert speech to text in real-time with multilingual support</p>
    </div>
  </header>

  <div class="container">
    <div class="main-content">
      <div class="converter-container">
        <h2>Speech to Text Converter</h2>
        <p class="info-text">Select your language and click "Start Listening" to begin transcribing your speech</p>
        
        <div class="controls">
          <select id="language">
            <!-- Languages will be populated by JavaScript -->
          </select>
          
          <button id="startBtn" class="btn btn-success">üé§ Start Listening</button>
          <button id="stopBtn" class="btn btn-danger" disabled>‚èπÔ∏è Stop</button>
          <button id="downloadBtn" class="btn">üíæ Save as Text</button>
          <button id="copyBtn" class="btn">üìã Copy Text</button>
          <button id="clearBtn" class="btn">üóëÔ∏è Clear</button>
        </div>
        
        <textarea id="output" placeholder="Your transcribed text will appear here..."></textarea>
        
        <div class="status-bar">
          <div>Words: <span id="wordCount">0</span></div>
          <div>Characters: <span id="charCount">0</span></div>
          <div>Listening Time: <span id="timer">0</span>s</div>
        </div>
        
        <div id="errorDisplay" class="error-message"></div>
      </div>

      <div class="ad-container">
        <div class="ad-placeholder">
          <h3>Advertisement</h3>
          <p>AdSense Ad Unit</p>
          <!-- Google AdSense Ad Unit -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
           crossorigin="anonymous"></script>
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-YOUR_ADSENSE_ID"
               data-ad-slot="YOUR_AD_SLOT_ID"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
               (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
        
        <div class="ad-placeholder">
          <h3>Advertisement</h3>
          <p>AdSense Ad Unit</p>
          <!-- Second Google AdSense Ad Unit -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
           crossorigin="anonymous"></script>
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-YOUR_ADSENSE_ID"
               data-ad-slot="YOUR_AD_SLOT_ID_2"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
               (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>
    </div>

    <div class="features">
      <div class="feature-card">
        <h3>Multi-language Support</h3>
        <p>Convert speech to text in 12+ languages including English, Spanish, French, German, and more.</p>
      </div>
      <div class="feature-card">
        <h3>Real-time Transcription</h3>
        <p>See your words appear on screen as you speak with our accurate speech recognition technology.</p>
      </div>
      <div class="feature-card">
        <h3>Export Options</h3>
        <p>Save your transcriptions as text files or copy to clipboard with one click.</p>
      </div>
    </div>
  </div>

  <!-- Microphone Permission Popup -->
  <div id="permissionPopup" class="permission-popup">
    <h3>üîä Microphone Access Required</h3>
    <p>This application needs access to your microphone to convert your speech to text.</p>
    <p>Please allow microphone permissions in your browser settings.</p>
    <p class="info-text">Look for the microphone icon in your browser's address bar and click "Allow"</p>
    <button id="retryBtn" class="btn btn-success">Try Again</button>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2023 Audio to Text Converter. All rights reserved.</p>
      <p class="info-text">This tool uses your browser's built-in speech recognition API. Works best in Chrome and Edge.</p>
    </div>
  </footer>

  <script>
    // DOM Elements
    const startBtn = document.getElementById("startBtn");
    const stopBtn = document.getElementById("stopBtn");
    const output = document.getElementById("output");
    const errorDisplay = document.getElementById("errorDisplay");
    const permissionPopup = document.getElementById("permissionPopup");
    const retryBtn = document.getElementById("retryBtn");
    const languageSelector = document.getElementById("language");
    const downloadBtn = document.getElementById("downloadBtn");
    const copyBtn = document.getElementById("copyBtn");
    const clearBtn = document.getElementById("clearBtn");
    const wordCountEl = document.getElementById("wordCount");
    const charCountEl = document.getElementById("charCount");
    const timerEl = document.getElementById("timer");

    // Variables
    let recognition;
    let recognizing = false;
    let permissionCheckInterval = null;
    let timerInterval = null;
    let seconds = 0;

    // Supported languages with full names
    const supportedLanguages = [
      {code: 'as-IN', name: 'Assamese (India)'},
      {code: 'bn-IN', name: 'Bengali (India)'},
      {code: 'bho-IN', name: 'Bhojpuri (India)'},
      {code: 'brx-IN', name: 'Bodo (India)'},
      {code: 'doi-IN', name: 'Dogri (India)'},
      {code: 'en-IN', name: 'English (India)'},
      {code: 'gu-IN', name: 'Gujarati (India)'},
      {code: 'hi-IN', name: 'Hindi (India)'},
      {code: 'kn-IN', name: 'Kannada (India)'},
      {code: 'ks-IN', name: 'Kashmiri (India)'},
      {code: 'kok-IN', name: 'Konkani (India)'},
      {code: 'mai-IN', name: 'Maithili (India)'},
      {code: 'ml-IN', name: 'Malayalam (India)'},
      {code: 'mr-IN', name: 'Marathi (India)'},
      {code: 'mni-IN', name: 'Manipuri (India)'},
      {code: 'ne-IN', name: 'Nepali (India)'},
      {code: 'or-IN', name: 'Odia (India)'},
      {code: 'pa-IN', name: 'Punjabi (India)'},
      {code: 'sa-IN', name: 'Sanskrit (India)'},
      {code: 'sat-IN', name: 'Santali (India)'},
      {code: 'sd-IN', name: 'Sindhi (India)'},
      {code: 'ta-IN', name: 'Tamil (India)'},
      {code: 'te-IN', name: 'Telugu (India)'},
      {code: 'ur-IN', name: 'Urdu (India)'},
      {code: 'en-US', name: 'English (United States)'},
      {code: 'en-GB', name: 'English (United Kingdom)'},
      {code: 'es-ES', name: 'Spanish (Spain)'},
      {code: 'fr-FR', name: 'French (France)'},
      {code: 'de-DE', name: 'German (Germany)'},
      {code: 'it-IT', name: 'Italian (Italy)'},
      {code: 'pt-BR', name: 'Portuguese (Brazil)'},
      {code: 'ru-RU', name: 'Russian (Russia)'},
      {code: 'ja-JP', name: 'Japanese (Japan)'},
      {code: 'zh-CN', name: 'Chinese (Simplified, China)'},
      {code: 'ar-SA', name: 'Arabic (Saudi Arabia)'}
    ];

    // Initialize the application
    function initApp() {
      populateLanguageSelector();
      setupEventListeners();
      checkInitialPermission();
    }

    // Populate language dropdown
    function populateLanguageSelector() {
      supportedLanguages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.code;
        option.textContent = lang.name;
        languageSelector.appendChild(option);
      });
    }

    // Set up all event listeners
    function setupEventListeners() {
      startBtn.addEventListener('click', startRecognition);
      stopBtn.addEventListener('click', stopRecognition);
      downloadBtn.addEventListener('click', downloadText);
      copyBtn.addEventListener('click', copyToClipboard);
      clearBtn.addEventListener('click', clearText);
      retryBtn.addEventListener('click', handleRetry);
      output.addEventListener('input', updateCounters);
      languageSelector.addEventListener('change', handleLanguageChange);
    }

    // Check initial microphone permission state
    async function checkInitialPermission() {
      const status = await checkMicrophonePermission();
      if (status === 'denied') {
        showPermissionPopup();
        startPermissionCheck();
      }
    }

    // Check if browser supports SpeechRecognition
    function isSpeechRecognitionSupported() {
      return 'SpeechRecognition' in window || 'webkitSpeechRecognition' in window;
    }

    // Initialize Speech Recognition
    function initSpeechRecognition() {
      if (!isSpeechRecognitionSupported()) {
        showError("Your browser doesn't support speech recognition. Please use Chrome, Edge, or Safari.");
        startBtn.disabled = true;
        return false;
      }

      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.continuous = true;
      recognition.interimResults = true;
      recognition.lang = languageSelector.value;

      recognition.onstart = () => {
        recognizing = true;
        startBtn.disabled = true;
        stopBtn.disabled = false;
        startBtn.classList.add('listening');
        hideError();
        startTimer();
        console.log("Speech recognition started");
      };

      recognition.onerror = (event) => {
        console.error("Speech recognition error:", event.error);
        
        switch(event.error) {
          case 'not-allowed':
          case 'permission-denied':
            showPermissionPopup();
            startPermissionCheck();
            break;
          case 'no-speech':
            showError("No speech detected. Please try speaking louder.");
            break;
          case 'audio-capture':
            showError("No microphone found. Please connect a microphone.");
            break;
          case 'language-not-supported':
            showError("Selected language is not supported. Please try another language.");
            break;
          default:
            showError("Error: " + event.error);
        }
        
        stopRecognition();
      };

      recognition.onresult = (event) => {
        let finalTranscript = '';
        let interimTranscript = '';
        
        for (let i = event.resultIndex; i < event.results.length; i++) {
          const transcript = event.results[i][0].transcript;
          if (event.results[i].isFinal) {
            finalTranscript += transcript + ' ';
          } else {
            interimTranscript += transcript;
          }
        }
        
        output.value += finalTranscript;
        updateCounters();
      };

      recognition.onend = () => {
        if (recognizing) {
          console.log("Speech recognition ended unexpectedly - restarting");
          try {
            recognition.start();
          } catch (e) {
            stopRecognition();
          }
        }
      };

      return true;
    }

    // Start speech recognition
    function startRecognition() {
      if (recognizing) return;
      
      checkMicrophonePermission().then(status => {
        if (status === 'denied') {
          showPermissionPopup();
          startPermissionCheck();
          return;
        }
        
        if (!recognition && !initSpeechRecognition()) return;
        
        recognition.lang = languageSelector.value;
        
        try {
          recognition.start();
          console.log("Starting speech recognition");
        } catch (err) {
          console.error("Start error:", err);
          showError("Failed to start: " + err.message);
        }
      });
    }

    // Stop speech recognition
    function stopRecognition() {
      if (!recognizing) return;
      
      try {
        recognition.stop();
      } catch (err) {
        console.error("Stop error:", err);
      } finally {
        recognizing = false;
        startBtn.disabled = false;
        stopBtn.disabled = true;
        startBtn.classList.remove('listening');
        stopTimer();
        console.log("Speech recognition stopped");
      }
    }

    // Check microphone permission state
    async function checkMicrophonePermission() {
      try {
        if (navigator.permissions && navigator.permissions.query) {
          const permissionStatus = await navigator.permissions.query({ name: 'microphone' });
          return permissionStatus.state;
        }
        
        // Fallback for browsers without permissions API
        return new Promise(resolve => {
          navigator.mediaDevices.getUserMedia({ audio: true })
            .then(stream => {
              stream.getTracks().forEach(track => track.stop());
              resolve('granted');
            })
            .catch(e => {
              resolve(e.name === 'NotAllowedError' ? 'denied' : 'prompt');
            });
        });
      } catch (error) {
        console.error("Permission check error:", error);
        return 'prompt';
      }
    }

    // Handle language change
    function handleLanguageChange() {
      if (recognition && recognizing) {
        recognition.lang = languageSelector.value;
      }
    }

    // Start checking for permission changes
    function startPermissionCheck() {
      stopPermissionCheck();
      
      permissionCheckInterval = setInterval(async () => {
        const status = await checkMicrophonePermission();
        
        if (status === 'granted') {
          stopPermissionCheck();
          hidePermissionPopup();
          location.reload();
        } else if (status === 'prompt') {
          stopPermissionCheck();
          hidePermissionPopup();
        }
      }, 1000);
    }

    // Stop checking permission
    function stopPermissionCheck() {
      if (permissionCheckInterval) {
        clearInterval(permissionCheckInterval);
        permissionCheckInterval = null;
      }
    }

    // Handle retry button click
    async function handleRetry() {
      const status = await checkMicrophonePermission();
      if (status === 'granted') {
        location.reload();
      } else {
        showError("Microphone access is still blocked. Please check your browser settings.");
      }
    }

    // Timer functions
    function startTimer() {
      seconds = 0;
      timerEl.textContent = seconds;
      timerInterval = setInterval(() => {
        seconds++;
        timerEl.textContent = seconds;
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    // Update word and character counters
    function updateCounters() {
      const text = output.value.trim();
      const wordCount = text === '' ? 0 : text.split(/\s+/).length;
      const charCount = text.length;
      
      wordCountEl.textContent = wordCount;
      charCountEl.textContent = charCount;
    }

    // Download text as file
    function downloadText() {
      const text = output.value;
      if (!text.trim()) {
        showError("No text to download");
        return;
      }
      
      const blob = new Blob([text], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `transcription_${new Date().toISOString().slice(0,10)}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Copy text to clipboard
    function copyToClipboard() {
      const text = output.value;
      if (!text.trim()) {
        showError("No text to copy");
        return;
      }
      
      navigator.clipboard.writeText(text)
        .then(() => {
          const originalText = copyBtn.textContent;
          copyBtn.textContent = '‚úì Copied!';
          setTimeout(() => {
            copyBtn.textContent = originalText;
          }, 2000);
        })
        .catch(err => {
          showError("Failed to copy text: " + err);
        });
    }

    // Clear text
    function clearText() {
      if (recognizing) {
        showError("Please stop listening before clearing the text");
        return;
      }
      
      output.value = '';
      updateCounters();
      stopTimer();
      timerEl.textContent = '0';
    }

    // Show error message
    function showError(message) {
      errorDisplay.textContent = message;
      errorDisplay.style.display = 'block';
      setTimeout(hideError, 5000);
    }

    // Hide error message
    function hideError() {
      errorDisplay.style.display = 'none';
    }

    // Show permission popup
    function showPermissionPopup() {
      permissionPopup.style.display = 'block';
    }

    // Hide permission popup
    function hidePermissionPopup() {
      permissionPopup.style.display = 'none';
    }

    // Initialize the app when DOM is loaded
    document.addEventListener('DOMContentLoaded', initApp);

    // Load Google AdSense
    window.addEventListener('load', () => {
      // You can add additional AdSense loading code here if needed
      console.log("Page fully loaded - AdSense should be active");
    });
  </script>
</body>
</html>content="index, follow">
  <meta property="og:title" content="Audio to Text Converter - Free Online Speech Recognition">
  <meta property="og:description" content="Convert your speech to text in real-time with multilingual support. Save transcriptions as text files.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com">
  <link rel="canonical" href="https://yourwebsite.com">
  <title>Audio to Text Converter | Free Online Speech Recognition Tool</title>
  <style>
    :root {
      --primary-color: #3498db;
      --secondary-color: #2980b9;
      --danger-color: #e74c3c;
      --success-color: #2ecc71;
      --text-color: #2c3e50;
      --light-gray: #ecf0f1;
      --medium-gray: #bdc3c7;
      --dark-gray: #7f8c8d;
      --error-color: #e74c3c;
      --error-bg: #fadbd8;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 20px 0;
      text-align: center;
      margin-bottom: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    
    .tagline {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    
    .main-content {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 30px;
    }
    
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }
    
    .converter-container {
      background: white;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .ad-container {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      height: fit-content;
      position: sticky;
      top: 20px;
    }
    
    .ad-placeholder {
      background: var(--light-gray);
      border: 1px dashed var(--medium-gray);
      padding: 20px;
      text-align: center;
      margin-bottom: 15px;
    }
    
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }
    
    .btn {
      background: var(--primary-color);
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
    }
    
    .btn:disabled {
      background: var(--medium-gray);
      cursor: not-allowed;
      transform: none;
    }
    
    .btn-danger {
      background: var(--danger-color);
    }
    
    .btn-danger:hover {
      background: #c0392b;
    }
    
    .btn-success {
      background: var(--success-color);
    }
    
    .btn-success:hover {
      background: #27ae60;
    }
    
    select {
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 16px;
      min-width: 200px;
      background: white;
    }
    
    textarea {
      width: 100%;
      height: 300px;
      margin: 15px 0;
      padding: 15px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 4px;
      resize: vertical;
      line-height: 1.5;
    }
    
    .error-message {
      color: var(--error-color);
      margin: 15px 0;
      padding: 15px;
      background: var(--error-bg);
      border-radius: 4px;
      display: none;
    }
    
    .permission-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(0,0,0,0.3);
      z-index: 1000;
      text-align: center;
      max-width: 90%;
      width: 500px;
      display: none;
    }
    
    .permission-popup h3 {
      margin-top: 0;
      color: var(--danger-color);
      font-size: 1.5rem;
      margin-bottom: 15px;
    }
    
    .info-text {
      color: var(--dark-gray);
      font-size: 0.95rem;
      margin: 10px 0;
    }
    
    .status-bar {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      color: var(--dark-gray);
      font-size: 0.9rem;
      padding-top: 10px;
      border-top: 1px solid #eee;
    }
    
    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      color: var(--dark-gray);
      font-size: 0.9rem;
      border-top: 1px solid #eee;
    }
    
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }
    
    .feature-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .feature-card h3 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    /* Animation for mic button when listening */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .listening {
      animation: pulse 1.5s infinite;
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Audio to Text Converter</h1>
      <p class="tagline">Convert speech to text in real-time with multilingual support</p>
    </div>
  </header>

  <div class="container">
    <div class="main-content">
      <div class="converter-container">
        <h2>Speech to Text Converter</h2>
        <p class="info-text">Select your language and click "Start Listening" to begin transcribing your speech</p>
        
        <div class="controls">
          <select id="language">
            <!-- Languages will be populated by JavaScript -->
          </select>
          
          <button id="startBtn" class="btn btn-success">üé§ Start Listening</button>
          <button id="stopBtn" class="btn btn-danger" disabled>‚èπÔ∏è Stop</button>
          <button id="downloadBtn" class="btn">üíæ Save as Text</button>
          <button id="copyBtn" class="btn">üìã Copy Text</button>
          <button id="clearBtn" class="btn">üóëÔ∏è Clear</button>
        </div>
        
        <textarea id="output" placeholder="Your transcribed text will appear here..."></textarea>
        
        <div class="status-bar">
          <div>Words: <span id="wordCount">0</span></div>
          <div>Characters: <span id="charCount">0</span></div>
          <div>Listening Time: <span id="timer">0</span>s</div>
        </div>
        
        <div id="errorDisplay" class="error-message"></div>
      </div>

      <div class="ad-container">
        <div class="ad-placeholder">
          <h3>Advertisement</h3>
          <p>AdSense Ad Unit</p>
          <!-- Google AdSense Ad Unit -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
           crossorigin="anonymous"></script>
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-YOUR_ADSENSE_ID"
               data-ad-slot="YOUR_AD_SLOT_ID"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
               (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
        
        <div class="ad-placeholder">
          <h3>Advertisement</h3>
          <p>AdSense Ad Unit</p>
          <!-- Second Google AdSense Ad Unit -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
           crossorigin="anonymous"></script>
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-YOUR_ADSENSE_ID"
               data-ad-slot="YOUR_AD_SLOT_ID_2"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>
               (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>
    </div>

    <div class="features">
      <div class="feature-card">
        <h3>Multi-language Support</h3>
        <p>Convert speech to text in 12+ languages including English, Spanish, French, German, and more.</p>
      </div>
      <div class="feature-card">
        <h3>Real-time Transcription</h3>
        <p>See your words appear on screen as you speak with our accurate speech recognition technology.</p>
      </div>
      <div class="feature-card">
        <h3>Export Options</h3>
        <p>Save your transcriptions as text files or copy to clipboard with one click.</p>
      </div>
    </div>
  </div>

  <!-- Microphone Permission Popup -->
  <div id="permissionPopup" class="permission-popup">
    <h3>üîä Microphone Access Required</h3>
    <p>This application needs access to your microphone to convert your speech to text.</p>
    <p>Please allow microphone permissions in your browser settings.</p>
    <p class="info-text">Look for the microphone icon in your browser's address bar and click "Allow"</p>
    <button id="retryBtn" class="btn btn-success">Try Again</button>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2023 Audio to Text Converter. All rights reserved.</p>
      <p class="info-text">This tool uses your browser's built-in speech recognition API. Works best in Chrome and Edge.</p>
    </div>
  </footer>

  <script>
    // DOM Elements
    const startBtn = document.getElementById("startBtn");
    const stopBtn = document.getElementById("stopBtn");
    const output = document.getElementById("output");
    const errorDisplay = document.getElementById("errorDisplay");
    const permissionPopup = document.getElementById("permissionPopup");
    const retryBtn = document.getElementById("retryBtn");
    const languageSelector = document.getElementById("language");
    const downloadBtn = document.getElementById("downloadBtn");
    const copyBtn = document.getElementById("copyBtn");
    const clearBtn = document.getElementById("clearBtn");
    const wordCountEl = document.getElementById("wordCount");
    const charCountEl = document.getElementById("charCount");
    const timerEl = document.getElementById("timer");

    // Variables
    let recognition;
    let recognizing = false;
    let permissionCheckInterval = null;
    let timerInterval = null;
    let seconds = 0;

    // Supported languages with full names
    const supportedLanguages = [
      {code: 'ta-IN', name: 'Tamil (India)'},
      {code: 'en-US', name: 'English (United States)'},
      {code: 'en-GB', name: 'English (United Kingdom)'},
      {code: 'es-ES', name: 'Spanish (Spain)'},
      {code: 'fr-FR', name: 'French (France)'},
      {code: 'de-DE', name: 'German (Germany)'},
      {code: 'it-IT', name: 'Italian (Italy)'},
      {code: 'pt-BR', name: 'Portuguese (Brazil)'},
      {code: 'ru-RU', name: 'Russian (Russia)'},
      {code: 'ja-JP', name: 'Japanese (Japan)'},
      {code: 'zh-CN', name: 'Chinese (Simplified, China)'},
      {code: 'hi-IN', name: 'Hindi (India)'},
      {code: 'ar-SA', name: 'Arabic (Saudi Arabia)'}
    ];

    // Initialize the application
    function initApp() {
      populateLanguageSelector();
      setupEventListeners();
      checkInitialPermission();
    }

    // Populate language dropdown
    function populateLanguageSelector() {
      supportedLanguages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.code;
        option.textContent = lang.name;
        languageSelector.appendChild(option);
      });
    }

    // Set up all event listeners
    function setupEventListeners() {
      startBtn.addEventListener('click', startRecognition);
      stopBtn.addEventListener('click', stopRecognition);
      downloadBtn.addEventListener('click', downloadText);
      copyBtn.addEventListener('click', copyToClipboard);
      clearBtn.addEventListener('click', clearText);
      retryBtn.addEventListener('click', handleRetry);
      output.addEventListener('input', updateCounters);
      languageSelector.addEventListener('change', handleLanguageChange);
    }

    // Check initial microphone permission state
    async function checkInitialPermission() {
      const status = await checkMicrophonePermission();
      if (status === 'denied') {
        showPermissionPopup();
        startPermissionCheck();
      }
    }

    // Check if browser supports SpeechRecognition
    function isSpeechRecognitionSupported() {
      return 'SpeechRecognition' in window || 'webkitSpeechRecognition' in window;
    }

    // Initialize Speech Recognition
    function initSpeechRecognition() {
      if (!isSpeechRecognitionSupported()) {
        showError("Your browser doesn't support speech recognition. Please use Chrome, Edge, or Safari.");
        startBtn.disabled = true;
        return false;
      }

      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.continuous = true;
      recognition.interimResults = true;
      recognition.lang = languageSelector.value;

      recognition.onstart = () => {
        recognizing = true;
        startBtn.disabled = true;
        stopBtn.disabled = false;
        startBtn.classList.add('listening');
        hideError();
        startTimer();
        console.log("Speech recognition started");
      };

      recognition.onerror = (event) => {
        console.error("Speech recognition error:", event.error);
        
        switch(event.error) {
          case 'not-allowed':
          case 'permission-denied':
            showPermissionPopup();
            startPermissionCheck();
            break;
          case 'no-speech':
            showError("No speech detected. Please try speaking louder.");
            break;
          case 'audio-capture':
            showError("No microphone found. Please connect a microphone.");
            break;
          case 'language-not-supported':
            showError("Selected language is not supported. Please try another language.");
            break;
          default:
            showError("Error: " + event.error);
        }
        
        stopRecognition();
      };

      recognition.onresult = (event) => {
        let finalTranscript = '';
        let interimTranscript = '';
        
        for (let i = event.resultIndex; i < event.results.length; i++) {
          const transcript = event.results[i][0].transcript;
          if (event.results[i].isFinal) {
            finalTranscript += transcript + ' ';
          } else {
            interimTranscript += transcript;
          }
        }
        
        output.value += finalTranscript;
        updateCounters();
      };

      recognition.onend = () => {
        if (recognizing) {
          console.log("Speech recognition ended unexpectedly - restarting");
          try {
            recognition.start();
          } catch (e) {
            stopRecognition();
          }
        }
      };

      return true;
    }

    // Start speech recognition
    function startRecognition() {
      if (recognizing) return;
      
      checkMicrophonePermission().then(status => {
        if (status === 'denied') {
          showPermissionPopup();
          startPermissionCheck();
          return;
        }
        
        if (!recognition && !initSpeechRecognition()) return;
        
        recognition.lang = languageSelector.value;
        
        try {
          recognition.start();
          console.log("Starting speech recognition");
        } catch (err) {
          console.error("Start error:", err);
          showError("Failed to start: " + err.message);
        }
      });
    }

    // Stop speech recognition
    function stopRecognition() {
      if (!recognizing) return;
      
      try {
        recognition.stop();
      } catch (err) {
        console.error("Stop error:", err);
      } finally {
        recognizing = false;
        startBtn.disabled = false;
        stopBtn.disabled = true;
        startBtn.classList.remove('listening');
        stopTimer();
        console.log("Speech recognition stopped");
      }
    }

    // Check microphone permission state
    async function checkMicrophonePermission() {
      try {
        if (navigator.permissions && navigator.permissions.query) {
          const permissionStatus = await navigator.permissions.query({ name: 'microphone' });
          return permissionStatus.state;
        }
        
        // Fallback for browsers without permissions API
        return new Promise(resolve => {
          navigator.mediaDevices.getUserMedia({ audio: true })
            .then(stream => {
              stream.getTracks().forEach(track => track.stop());
              resolve('granted');
            })
            .catch(e => {
              resolve(e.name === 'NotAllowedError' ? 'denied' : 'prompt');
            });
        });
      } catch (error) {
        console.error("Permission check error:", error);
        return 'prompt';
      }
    }

    // Handle language change
    function handleLanguageChange() {
      if (recognition && recognizing) {
        recognition.lang = languageSelector.value;
      }
    }

    // Start checking for permission changes
    function startPermissionCheck() {
      stopPermissionCheck();
      
      permissionCheckInterval = setInterval(async () => {
        const status = await checkMicrophonePermission();
        
        if (status === 'granted') {
          stopPermissionCheck();
          hidePermissionPopup();
          location.reload();
        } else if (status === 'prompt') {
          stopPermissionCheck();
          hidePermissionPopup();
        }
      }, 1000);
    }

    // Stop checking permission
    function stopPermissionCheck() {
      if (permissionCheckInterval) {
        clearInterval(permissionCheckInterval);
        permissionCheckInterval = null;
      }
    }

    // Handle retry button click
    async function handleRetry() {
      const status = await checkMicrophonePermission();
      if (status === 'granted') {
        location.reload();
      } else {
        showError("Microphone access is still blocked. Please check your browser settings.");
      }
    }

    // Timer functions
    function startTimer() {
      seconds = 0;
      timerEl.textContent = seconds;
      timerInterval = setInterval(() => {
        seconds++;
        timerEl.textContent = seconds;
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    // Update word and character counters
    function updateCounters() {
      const text = output.value.trim();
      const wordCount = text === '' ? 0 : text.split(/\s+/).length;
      const charCount = text.length;
      
      wordCountEl.textContent = wordCount;
      charCountEl.textContent = charCount;
    }

    // Download text as file
    function downloadText() {
      const text = output.value;
      if (!text.trim()) {
        showError("No text to download");
        return;
      }
      
      const blob = new Blob([text], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `transcription_${new Date().toISOString().slice(0,10)}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Copy text to clipboard
    function copyToClipboard() {
      const text = output.value;
      if (!text.trim()) {
        showError("No text to copy");
        return;
      }
      
      navigator.clipboard.writeText(text)
        .then(() => {
          const originalText = copyBtn.textContent;
          copyBtn.textContent = '‚úì Copied!';
          setTimeout(() => {
            copyBtn.textContent = originalText;
          }, 2000);
        })
        .catch(err => {
          showError("Failed to copy text: " + err);
        });
    }

    // Clear text
    function clearText() {
      if (recognizing) {
        showError("Please stop listening before clearing the text");
        return;
      }
      
      output.value = '';
      updateCounters();
      stopTimer();
      timerEl.textContent = '0';
    }

    // Show error message
    function showError(message) {
      errorDisplay.textContent = message;
      errorDisplay.style.display = 'block';
      setTimeout(hideError, 5000);
    }

    // Hide error message
    function hideError() {
      errorDisplay.style.display = 'none';
    }

    // Show permission popup
    function showPermissionPopup() {
      permissionPopup.style.display = 'block';
    }

    // Hide permission popup
    function hidePermissionPopup() {
      permissionPopup.style.display = 'none';
    }

    // Initialize the app when DOM is loaded
    document.addEventListener('DOMContentLoaded', initApp);

    // Load Google AdSense
    window.addEventListener('load', () => {
      // You can add additional AdSense loading code here if needed
      console.log("Page fully loaded - AdSense should be active");
    });
  </script>
</body>
</html>
